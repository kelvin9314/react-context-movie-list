(this["webpackJsonpreact-context-movie-list"]=this["webpackJsonpreact-context-movie-list"]||[]).push([[0],{22:function(e,t,n){e.exports=n(50)},27:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=(n(27),n(2)),s=n.n(i),l=n(4),u=n(20),m=n.n(u),v=n(21),g=n.n(v),p=function(e){return g.a.stringify(e)},f="468ec7dede9b1c236239f9e0ab93d02f",d=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.page,a=t.lang,e.prev=1,e.next=4;break;case 4:return console.log(p({page:n,lang:a})),e.next=7,m.a.get("".concat("https://api.themoviedb.org/3/movie","/now_playing?").concat(p({page:n,language:a,api_key:f})));case 7:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),h=n(8),b=n(6),w=Object(a.createContext)(),E=function(e){var t=Object(a.useState)(0),n=Object(b.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)("zh-TW"),u=Object(b.a)(i,2),m=u[0],v=u[1],g=Object(a.useState)([]),p=Object(b.a)(g,2),f=p[0],E=p[1],x=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(t=c+1),e.next=5,d({page:t,lang:m});case 5:n=e.sent,a=n.results,E([].concat(Object(h.a)(f),Object(h.a)(a))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(w.Provider,{value:{movies:f,page:c,lang:m,setLang:v,_getMovie:x}},e.children)},x=(n(48),function(e){var t=e.movie;return r.a.createElement("div",{className:"card-container"},r.a.createElement("img",{alt:t.title,width:"100%",src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path)}),r.a.createElement("h3",{style:{textAlign:"center"}},t.title),r.a.createElement("span",{style:{textAlign:"center"}},t.release_date))}),j=(n(49),function(e){var t=e.movies;return r.a.createElement("div",{className:"card-list"},t.map((function(e){return r.a.createElement(x,{key:e.id,movie:e})})))}),O=function(){var e=Object(a.useContext)(w),t=e.movies,n=e.lang,c=(e.setLang,e._getMovie);Object(a.useEffect)((function(){c()}),[n]);var o=function(){var e=window.innerHeight+document.documentElement.scrollTop;console.log("current: ".concat(e));var t=document.documentElement.offsetHeight;console.log("height: ".concat(t)),e<t||c()};return Object(a.useEffect)((function(){return window.addEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}),[o]),r.a.createElement("div",{className:"App"},r.a.createElement("h2",{style:{textAlign:"center"}}," ","Movie list context Version (Data from themoviedb)"," "),t.length>0?r.a.createElement(j,{movies:t}):r.a.createElement("h3",{style:{textAlign:"center",color:"#f5f5dc"}},"opps! it seems that no data"))};var y=function(){return r.a.createElement(E,null,r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.7772ffd6.chunk.js.map
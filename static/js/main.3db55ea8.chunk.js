(this["webpackJsonpreact-context-movie-list"]=this["webpackJsonpreact-context-movie-list"]||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"title":"\u96fb\u5f71\u8cc7\u6599 (Data from themoviedb)"}')},31:function(e){e.exports=JSON.parse('{"title":" Movie list (Data from themoviedb)"}')},32:function(e,t,n){e.exports=n(65)},37:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(24),o=n.n(r),i=(n(37),n(2)),l=n.n(i),s=n(11),u=n(6),f=n(8),g=n(25),m=n.n(g),p=n(26),v=n.n(p),h=function(e){return v.a.stringify(e)},d="468ec7dede9b1c236239f9e0ab93d02f",b=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.page,a=t.lang,e.prev=1,e.next=4;break;case 4:return console.log(h({page:n,lang:a})),e.next=7,m.a.get("".concat("https://api.themoviedb.org/3/movie","/now_playing?").concat(h({page:n,language:a,api_key:d})));case 7:return c=e.sent,r=c.data,e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0.message),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),E=n(66),O=Object(a.createContext)(),j=function(e){var t=Object(E.a)().i18n,n=Object(a.useState)(0),r=Object(f.a)(n,2),o=r[0],i=r[1],g=Object(a.useState)([]),m=Object(f.a)(g,2),p=m[0],v=m[1],h=Object(a.useState)(!1),d=Object(f.a)(h,2),j=d[0],w=d[1];Object(a.useEffect)((function(){v([]),i(0),w(!0)}),[t.language]);var x=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(n=o+1),e.next=5,b({page:n,lang:t.language});case 5:a=e.sent,c=a.results,v([].concat(Object(s.a)(p),Object(s.a)(c))),j&&w(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(O.Provider,{value:{movies:p,shouldRefetch:j,_changeLang:function(){var e="zh-TW"===t.language?"en-US":"zh-TW";t.changeLanguage(e)},_getMovie:x}},e.children)},w=(n(63),function(e){var t=e.movie;return c.a.createElement("div",{className:"card-container"},c.a.createElement("img",{alt:t.title,width:"100%",src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path)}),c.a.createElement("h3",{style:{textAlign:"center"}},t.title),c.a.createElement("span",{style:{textAlign:"center"}},t.release_date))}),x=(n(64),function(e){var t=e.movies;return c.a.createElement("div",{className:"card-list"},t.map((function(e){return c.a.createElement(w,{key:e.id,movie:e})})))}),y=function(){var e=Object(E.a)(),t=e.t,n=(e.i18n,Object(a.useContext)(O)),r=n.movies,o=n.shouldRefetch,i=n._changeLang,l=n._getMovie;return Object(a.useEffect)((function(){l()}),[o]),Object(a.useEffect)((function(){var e=function(){window.innerHeight+document.documentElement.scrollTop<document.documentElement.offsetHeight||l()};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[l]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",{style:{textAlign:"center"},onClick:function(){return i()}},t("title")),r.length>0?c.a.createElement(x,{movies:r}):c.a.createElement("h3",{style:{textAlign:"center",color:"#f5f5dc"}},"opps! it seems that no data"))};var k=function(){return c.a.createElement(j,null,c.a.createElement(y,null))},S=n(12),_=n(10),z=n(4),L=n(30),T=n(31),A={"en-US":{translation:Object(S.a)({},T)},"zh-TW":{translation:Object(S.a)({},L)}};_.a.use(z.e).init({resources:A,lng:localStorage.lang||"zh-US",fallbackLng:"zh-TW",whitelist:["en-US","zh-TW"],debug:!1,interpolation:{escapeValue:!1}});_.a;o.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.3db55ea8.chunk.js.map